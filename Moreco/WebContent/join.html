<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="images/svg/moreco_favicon.gif" rel="shortcut icon" type="image/x-icon">
    <title>Moreco : 회원가입</title>
    <link href="css/join.css" rel="stylesheet">
    <script type="text/javascript">
    
        function rep_check() {
            if(document.forms[0].user_id.value=="") {
                alert("아이디를 입력해 주세요");
                document.forms[0].user_id.focus();
                return false;
            }
            else if ((document.forms[0].user_id.value.length < 5) || (document.forms[0].user_id.value.length > 20)) {
                alert("아이디를 5~20자로 입력해 주세요");
                document.forms[0].user_id.focus();
                return false;
            }
            else {
            	location.href="join_id_check.jsp?user_id="+document.forms[0].user_id.value;
            }
        }
        function join_check_fun() {
        	
        	var now = new Date();
        	var year = now.getFullYear();
        	
        	var ssn_check = document.forms[0].user_back_ssn.value.charAt(0);
        	var age_tmp = document.forms[0].user_front_ssn.value.substring(0,2);
        	
        	if (ssn_check == 1 || ssn_check == 3) document.forms[0].user_gender.value = "남자";
        	else if (ssn_check == 2 || ssn_check == 4) document.forms[0].user_gender.value = "여자";
        	else document.forms[0].user_gender.value = "외국인";
    		
        		
            if(document.forms[0].user_id.value=="") {
                alert("아이디를 입력해 주세요");
                document.forms[0].user_id.focus();
                return false;
            }
            else if ((document.forms[0].user_id.value.length < 5) || (document.forms[0].user_id.value.length > 20)) {
                alert("아이디를 5~20자로 입력해 주세요");
                document.forms[0].user_id.focus();
                return false;
            }
            if (document.forms[0].user_pw.value=="") {
                alert("비밀번호를 입력해 주세요");
                document.forms[0].user_pw.focus();
                return false;
            }
            else if ((document.forms[0].user_pw.value.length < 6) || (document.forms[0].user_pw.value.length > 13)) {
                alert("비밀번호를 6~13자로 입력해 주세요");
                document.forms[0].user_pw.focus();
                return false;
            }
            if (document.forms[0].user_pw.value != document.forms[0].user_pw_check.value) {
                alert("비밀번호를 확인해 주세요");
                document.forms[0].user_pw.focus();
                return false;
            }
            if (document.forms[0].user_name.value=="") {
                alert("이름을 입력해 주세요");
                document.forms[0].user_name.focus();
                return false;
            }
            if ((document.forms[0].user_front_ssn.value.length != 6) || (document.forms[0].user_back_ssn.value.length != 7)) {
                alert("주민등록번호를 확인해 주세요");
                document.forms[0].user_front_ssn.focus();
                return false;
            }
            else if (ssn_check != '1' && ssn_check != '2' && ssn_check != '3' && ssn_check != '4') {
            	alert("주민등록번호를 확인해 주세요");
            	document.forms[0].user_front_ssn.focus();
            	return false;
            }
        	if (ssn_check == '1' || ssn_check == '2') {
        		var age = year-(1900 + parseInt(age_tmp))+1;       		
        		if (age < 0) {
        			alert("주민등록번호를 확인해 주세요");
                    document.forms[0].user_front_ssn.focus();
                    return false;
        		}
        		else
        			document.forms[0].user_age.value = age;
        	}
        	else if (ssn_check == 3 || ssn_check == 4) {
        		var age = year-(2000+ parseInt(age_tmp))+1;
        		if (age < 0) {
        			alert("주민등록번호를 확인해 주세요");
                    document.forms[0].user_front_ssn.focus();
                    return false;
        		}
        		else
        			document.forms[0].user_age.value = age;
        	}
            if (!document.forms[0].info.checked) {
                alert("개인정보 수집 및 이용에 대한 안내에 동의해 주세요");
                return false;
            }
        }
    </script>
</head>
<body>
    <div class="background_img">
        <div class="joinForm">
            <div class="logo"><a href="login.html"><img class="logo_img" src="images/moreco_logo.png"/></a></div>
            <form method="post" action="joinPro.jsp" onsubmit="return join_check_fun();">
            <div>
                <div class="textForm">
                    <label for="labels1">
                        <div class="textHead">아이디 
                            <button type="button" class="rep_check_btn" id="text_value" onclick="return rep_check();">중복 체크</button>
                        </div>
                    </label>
                    <input type="text" class="inp" name="user_id" id="labels1"/>
                </div>
                <div class="textForm">
                    <label for="labels2"><div class="textHead">비밀번호</div></label>
                    <input type="password" class="inp" name="user_pw" id="labels2"/>
                </div>
                <div class="textForm">
                    <label for="labels3"><div class="textHead">비밀번호 확인</div></label>
                    <input type="password" class="inp" name="user_pw_check" id="labels3"/>
                </div>
                <div class="textForm">
                    <label for="labels4"><div class="textHead">이름</div></label>
                    <input type="text" class="inp" name="user_name" id="labels4"/>
                </div>
                <div class="textForm">
                    <label for="labels5"><div class="textHead">주민등록번호</div></label>
                    <input type="text" class="inp" name="user_front_ssn" id="labels5"/>
                    <input type="password" class="inp" name="user_back_ssn"/>
                </div>
                <input type="hidden" name="user_gender"/>
                <input type="hidden" name="user_age"/>
                <div class="textForm">
                    <div class="textHead">개인정보수집동의</div>
                    <div class="info_check">
                        Moreco는 개인정보보호법 제30조에 따라 서비스 이용을 위한 아래 개인정보 수집.이용 동의를 받습니다.<br><br>
                        1. 개인정보의 처리목적<br>
                        Moreco는 다음의 목적을 위하여 개인정보를 처리하고 있으며, 다음의 목적 이외로는 이용하지 않습니다.<br>
                        ① 이용자 식별 및 본인여부 확인<br>
                        ② 목적 계약 이행을 위한 연락민원 등 고객 고충 처리<br>
                        ③ 만14세 미만 아동인지 확인<br><br>
                        2. 개인정보 수집항목<br>
						아이디, 이름, 주민등록번호<br><br>
                        3. 개인정보의 처리 및 보유기간<br>
						회원탈퇴시 즉시 삭제
                    </div>	
                </div>                
            </div>
            <div style="text-align: center;">
                <input type="checkbox" name="info"> 동의합니다
                <div><button type="submit" class="btn">회원가입</button></div>
            </div>
            </form>
            <div class="margins"></div>
        </div>        
    </div>
</body>
</html>